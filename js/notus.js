(function(){"use strict";var t,n,o,e,i,s,a,r,u,c,l,p=this,m=p.notus,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},f={popup:"popup",toast:"toast",snackbar:"snackbar"},y={"top-left":"tl","top-right":"tr","bottom-left":"bl","bottom-right":"br",top:"top",bottom:"bottom",tl:"tl",tr:"tr",bl:"bl",br:"br",t:"top",b:"bottom"},h={popup:["tl","tr","bl","br"],toast:["top","bottom"],snackbar:["top","bottom"]},v={success:"success",failure:"failure",warning:"warning",custom:"custom",none:""},b={slide:"slide",fade:"fade",custom:"custom"};t={genId:function(){return"notus-"+Math.floor(1e16*Math.random())},extend:function(){var t,n;for(n=1;n<arguments.length;n++)for(t in arguments[n])arguments[n].hasOwnProperty(t)&&(arguments[0][t]=arguments[n][t]);return arguments[0]},format:function(){var t,n,o=arguments[0];for(n=0;n<arguments.length-1;n++)t=new RegExp("\\{"+n+"\\}","gm"),o=o.replace(t,arguments[n+1]);return o},escapeHtml:function(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return d[t]})},removeEl:function(t){"function"==typeof t.remove?t.remove():t.parentElement&&t.parentElement.removeChild(t)}},o=function(t){var n=t.notusType,o=t.notusPosition;if(void 0===f[n])throw new Error("Unknown value for notusType");if(void 0===y[o])throw new Error("Unknown value for notusPosition");if(void 0===v[t.alertType])throw new Error("Unknown value for alertType");if(void 0===b[t.animationType])throw new Error("Unknown value for animationType");if(void 0===t.message)throw new Error("Unknown value for message");if(h[n].indexOf(y[o])<0)throw new Error('Unsupported position "'+o+'" for notusType "'+n+'"');if(t.closeHandler&&"function"!=typeof t.closeHandler)throw new Error("closeHandler is not a function");if(t.actionable&&"object"!=typeof t.primaryAction&&"object"!=typeof t.secondaryAction)throw new Error("primaryAction or secondaryAction undefined for actionable notus")},e=function(t){var n=[],o=t.notusType,e=t.alertType;return n.push("notus"),n.push("notus-type-"+f[o]),v[e]&&n.push("notus-alert-"+v[e]),t.themeClass&&n.push(t.themeClass),n},i=function(t){var n,o=t.notusType,e=t.notusPosition,i=["notus-container"];return i.push("notus-position-"+y[e]),"popup"!==o&&i.push("toast"===o?"notus-container-toast":"notus-container-snackbar"),(n=document.querySelector("."+i.join(".")))||((n=document.createElement("div")).setAttribute("class",i.join(" ")),document.body.appendChild(n)),n},u=function(n,o){n.notusType;var e=n.animationType,i=n.animationClass;setTimeout(function(){o.setAttribute("style",a(n).join(";")),"slide"===e?(o.classList.remove("notus-slide-in"),o.classList.add("notus-slide-out")):"fade"===e?(o.classList.remove("notus-fade-in"),o.classList.add("notus-fade-out")):(o.classList.remove(i.extry),o.classList.add(i.exit)),setTimeout(function(){t.removeEl(o)},n.animationDuration)},n.autoCloseDuration)},r=function(n,o){o.querySelector(".notus-close").onclick=function(e){var i;n.closeHandler&&(i=n.closeHandler.apply(this,arguments)),i||t.removeEl(o)}},c=function(n,o){var e,i=o.querySelector(".notus-actions > .action-item.action-primary"),s=o.querySelector(".notus-actions > .action-item.action-secondary");e=function(n){return function(e){n.actionHandler.apply(this,arguments)||t.removeEl(o)}},i&&(i.onclick=e(n.primaryAction)),s&&(s.onclick=e(n.secondaryAction))},s=function(n){var o=n.notusType,e=n.animationType,i=n.animationFunction,s=n.animationDuration/1e3,a="slide"===e,r=[];return"custom"!==e&&("popup"===o?r.push(a?"transform: translateX(0%)":"opacity: 1"):r.push(a?"transform: translateY(0%)":"opacity: 1"),i&&r.push(t.format("animation-timing-function: {0}",i))),s>0&&r.push(t.format("animation-duration: {0}s",s)),r},a=function(n){var o=n.notusType,e=n.notusPosition,i=n.animationType,s=n.animationFunction,a=n.animationDuration/1e3,r="slide"===i,u=[];return"custom"!==i&&("popup"===o?y[e].indexOf("l")>-1?u.push(r?"transform: translateX(-110%)":"opacity: 0"):u.push(r?"transform: translateX(110%)":"opacity: 0"):"top"===y[e]?u.push(r?"transform: translateY(-110%)":"opacity: 0"):u.push(r?"transform: translateY(110%)":"opacity: 0"),s&&u.push(t.format("animation-timing-function: {0}",s))),a>0&&u.push(t.format("animation-duration: {0}s",a)),u},l=function(n){var o,i=document.createElement("div"),a=n.animationType,r=n.animationClass,u="slide"===a,c=n.htmlString,l=[],p="",m="",d="",f="",y="";return l=e(n),n.animate&&("custom"!==a?(l.push(u?"notus-slide":"notus-fade"),l.push(u?"notus-slide-in":"notus-fade-in")):(l.push(r.fixed),l.push(r.entry)),i.setAttribute("style",s(n).join(";"))),i.setAttribute("id",t.genId()),i.setAttribute("class",l.join(" ")),n.closable&&(y=['<div class="notus-body-item notus-close">','<span class="icon-close">&times;</span>',"</div>"].join("")),n.actionable&&(n.primaryAction&&(m=t.format('<span class="action-item action-primary">{0}</span>',c?n.primaryAction.text:t.escapeHtml(n.primaryAction.text))),n.secondaryAction&&(d=t.format('<span class="action-item action-secondary">{0}</span>',c?n.secondaryAction.text:t.escapeHtml(n.secondaryAction.text))),f=['<div class="notus-body-item notus-actions">',m,d,"</div>"].join("")),"snackbar"!==n.notusType&&(p='<div class="notus-content-title">{0}</div>'),o=['<div class="notus-body-item notus-content">',p,'<div class="notus-content-body">',"{1}","</div>","</div>",y,f].join(""),i.innerHTML=t.format(o,c?n.title:t.escapeHtml(n.title),c?n.message:t.escapeHtml(n.message)),i},n=p.notus=function(e){document.body;var s={};return e=t.extend({notusType:"popup",notusPosition:"top-right",alertType:"none",htmlString:!1,closable:!0,autoClose:!0,autoCloseDuration:3e3,animate:!0,animationType:"slide",animationDuration:300,animationFunction:"ease-out",animationClass:{fixed:"",entry:"",exit:""},themeClass:"notus-material-light"},e),s.noConflict=function(){return p.notus=m,n},s.send=function(n){var s,a;return n=t.extend({},e,n),o(n),s=i(n),a=l(n),n.closable&&r(n,a),n.actionable&&c(n,a),n.notusPosition.indexOf("bottom")>-1?s.insertBefore(a,s.firstChild):s.appendChild(a),n.autoClose&&u(n,a),a.getAttribute("id")},s},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.notus=n):p.notus=n}).call(this);